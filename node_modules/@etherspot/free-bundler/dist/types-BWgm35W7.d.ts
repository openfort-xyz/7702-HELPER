import { Chain, Transport, Client, RpcSchema } from 'viem';
import { SmartAccount, BundlerActions } from 'viem/account-abstraction';

type FreeBundlerClient<transport extends Transport = Transport, chain extends Chain | undefined = Chain | undefined, account extends SmartAccount | undefined = SmartAccount | undefined> = Client<transport, chain, account, RpcSchema, BundlerActions>;
interface TransportOptions {
    timeout?: number;
    retryCount?: number;
    retryDelay?: number;
}
interface ClientOptions {
    name?: string;
    pollingInterval?: number;
}
interface CreateFreeBundlerOptions<chain extends Chain, account extends SmartAccount | undefined = undefined> {
    /** Custom bundler URL to override default */
    bundlerUrl?: string;
    /** Chain configuration */
    chain: chain;
    /** Account configuration */
    account?: account;
    /** Transport configuration options */
    transport?: TransportOptions;
    /** Additional client options */
    client?: ClientOptions;
}
interface BundlerConfig {
    chainId: number;
    name: string;
    url: string;
    isTestnet: boolean;
}

export type { BundlerConfig as B, ClientOptions as C, FreeBundlerClient as F, TransportOptions as T, CreateFreeBundlerOptions as a };
